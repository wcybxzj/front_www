<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://192.168.1.177/frontend_www/2.hello-es6/jquery.js"></script>
    <script>

        //resolve:成功, reject:失败
        function createPromise(url){
            return new Promise(
                function(resolve, reject){
                    $.ajax({
                        url,//url:url,的简写
                        dataType:'json',
                        success(arr){
                            resolve(arr);
                        },
                        error(err){
                            reject(err);
                        }
                    })
                }
            );
        }

        //================================================================

        //推荐方法
        Promise.all([
            createPromise('data/arr.txt'),
            createPromise('data/json.txt'),
        ]).then(
                function (arr) {
                    console.log("全部都成功了");
                    console.log(arr);
                    let [arr1, json1] = arr;
                    console.log(arr1);
                    console.log(json1);
                },
                function () {
                    console.log("至少一个失败");
                }
            );


    </script>
</head>
<body>

</body>
</html>